[
  {
    "id": "1769565750093",
    "title": "Linux常见使用教程",
    "date": "2026-01-27",
    "tags": [
      "技术"
    ],
    "content": "# Ubuntu 常见操作教程\n\n## 系统基础操作\n\n### 文件和目录管理\n\n查看当前目录内容：\n```bash\nls          # 列出文件和目录\nls -la      # 显示详细信息，包括隐藏文件\nls -lh      # 以人类可读的格式显示文件大小\n```\n\n切换目录：\n```bash\ncd /path/to/directory    # 切换到指定目录\ncd ~                     # 切换到家目录\ncd ..                    # 返回上级目录\ncd -                     # 返回上一次所在目录\n```\n\n创建和删除目录：\n```bash\nmkdir directory_name           # 创建目录\nmkdir -p path/to/directory     # 递归创建多级目录\nrmdir directory_name           # 删除空目录\nrm -r directory_name           # 递归删除目录及其内容\nrm -rf directory_name          # 强制删除（慎用）\n```\n\n文件操作：\n```bash\ntouch filename              # 创建空文件或更新文件时间戳\ncp source dest              # 复制文件\ncp -r source_dir dest_dir   # 复制目录\nmv source dest              # 移动或重命名文件\nrm filename                 # 删除文件\n```\n\n### 文件查看和编辑\n\n查看文件内容：\n```bash\ncat filename           # 显示整个文件内容\nless filename          # 分页查看文件（可上下翻页）\nhead filename          # 显示文件前10行\nhead -n 20 filename    # 显示文件前20行\ntail filename          # 显示文件后10行\ntail -f filename       # 实时查看文件更新（常用于日志）\n```\n\n使用文本编辑器：\n```bash\nnano filename          # 使用nano编辑器（适合新手）\nvim filename           # 使用vim编辑器\ngedit filename         # 使用图形界面编辑器\n```\n\n查找文件内容：\n```bash\ngrep \"关键词\" filename              # 在文件中搜索关键词\ngrep -r \"关键词\" directory          # 递归搜索目录\ngrep -i \"关键词\" filename           # 忽略大小写搜索\ngrep -n \"关键词\" filename           # 显示行号\n```\n\n### 文件权限管理\n\n查看权限：\n```bash\nls -l filename    # 显示文件权限信息\n```\n\n修改权限：\n```bash\nchmod 755 filename           # 数字方式修改权限\nchmod u+x filename           # 给所有者添加执行权限\nchmod g-w filename           # 移除组的写权限\nchmod o+r filename           # 给其他人添加读权限\nchmod -R 755 directory       # 递归修改目录权限\n```\n\n修改所有者：\n```bash\nsudo chown user filename              # 修改文件所有者\nsudo chown user:group filename        # 修改所有者和组\nsudo chown -R user:group directory    # 递归修改目录所有权\n```\n\n## 软件包管理\n\n### APT 包管理器\n\n更新软件源：\n```bash\nsudo apt update              # 更新软件包列表\nsudo apt upgrade             # 升级所有可更新的软件包\nsudo apt full-upgrade        # 升级系统（可能删除旧包）\n```\n\n安装和卸载软件：\n```bash\nsudo apt install package_name         # 安装软件包\nsudo apt install package1 package2    # 同时安装多个包\nsudo apt remove package_name          # 卸载软件但保留配置\nsudo apt purge package_name           # 完全卸载软件和配置\nsudo apt autoremove                   # 删除不再需要的依赖包\n```\n\n搜索和查看软件包：\n```bash\napt search keyword           # 搜索软件包\napt show package_name        # 显示软件包详细信息\napt list --installed         # 列出已安装的软件包\napt list --upgradable        # 列出可升级的软件包\n```\n\n清理系统：\n```bash\nsudo apt clean               # 清理下载的软件包缓存\nsudo apt autoclean           # 清理过期的软件包缓存\n```\n\n### Snap 包管理\n\n```bash\nsudo snap install package_name       # 安装snap包\nsudo snap remove package_name        # 卸载snap包\nsnap list                            # 列出已安装的snap包\nsnap find keyword                    # 搜索snap包\nsudo snap refresh                    # 更新所有snap包\n```\n\n## 系统信息和监控\n\n### 查看系统信息\n\n基本信息：\n```bash\nuname -a                    # 显示系统所有信息\nlsb_release -a              # 显示Ubuntu版本信息\nhostname                    # 显示主机名\nuptime                      # 显示系统运行时间\ndate                        # 显示当前日期和时间\n```\n\n硬件信息：\n```bash\nlscpu                       # 显示CPU信息\nfree -h                     # 显示内存使用情况\ndf -h                       # 显示磁盘使用情况\ndu -sh directory            # 显示目录大小\nlsblk                       # 显示块设备信息\nlsusb                       # 显示USB设备\nlspci                       # 显示PCI设备\n```\n\n### 进程管理\n\n查看进程：\n```bash\nps aux                      # 显示所有进程\nps aux | grep process_name  # 搜索特定进程\ntop                         # 实时显示进程信息\nhtop                        # 更友好的进程查看工具（需安装）\npgrep process_name          # 根据名称查找进程ID\n```\n\n管理进程：\n```bash\nkill PID                    # 终止指定进程\nkill -9 PID                 # 强制终止进程\nkillall process_name        # 根据名称终止所有相关进程\npkill process_name          # 根据名称终止进程\n```\n\n后台运行：\n```bash\ncommand &                   # 在后台运行命令\nnohup command &             # 后台运行且不受终端关闭影响\njobs                        # 查看后台任务\nfg %job_number              # 将后台任务调到前台\nbg %job_number              # 继续执行后台暂停的任务\n```\n\n## 网络操作\n\n### 网络配置和查看\n\n查看网络信息：\n```bash\nip addr                     # 显示网络接口信息\nip link                     # 显示网络接口状态\nip route                    # 显示路由表\nifconfig                    # 旧版网络配置工具（需安装net-tools）\n```\n\n网络连接测试：\n```bash\nping domain.com             # 测试网络连接\nping -c 4 domain.com        # 发送4个包后停止\ntraceroute domain.com       # 追踪数据包路由\nnetstat -tuln               # 显示监听端口\nss -tuln                    # 更现代的socket统计工具\n```\n\nDNS查询：\n```bash\nnslookup domain.com         # DNS查询\ndig domain.com              # 详细的DNS查询\nhost domain.com             # 简单的DNS查询\n```\n\n### 防火墙管理\n\nUFW防火墙：\n```bash\nsudo ufw status             # 查看防火墙状态\nsudo ufw enable             # 启用防火墙\nsudo ufw disable            # 禁用防火墙\nsudo ufw allow 22           # 允许端口22\nsudo ufw allow 80/tcp       # 允许TCP端口80\nsudo ufw deny 23            # 拒绝端口23\nsudo ufw delete allow 80    # 删除规则\nsudo ufw status numbered    # 显示带编号的规则列表\n```\n\n### 文件传输\n\n使用SCP：\n```bash\nscp file user@host:/path              # 上传文件到远程\nscp user@host:/path/file ./           # 从远程下载文件\nscp -r directory user@host:/path      # 上传目录\n```\n\n使用wget和curl：\n```bash\nwget http://example.com/file          # 下载文件\nwget -c http://example.com/file       # 断点续传\ncurl -O http://example.com/file       # 下载文件\ncurl -L url                           # 跟随重定向下载\n```\n\n## 用户和权限管理\n\n### 用户管理\n\n创建和删除用户：\n```bash\nsudo adduser username               # 创建新用户（交互式）\nsudo useradd -m username            # 创建用户并创建家目录\nsudo passwd username                # 设置或修改用户密码\nsudo userdel username               # 删除用户\nsudo userdel -r username            # 删除用户及其家目录\n```\n\n查看用户信息：\n```bash\nwhoami                      # 显示当前用户\nwho                         # 显示登录用户\nw                           # 显示登录用户及其活动\nid username                 # 显示用户ID和组ID\ngroups username             # 显示用户所属组\n```\n\n### 组管理\n\n```bash\nsudo groupadd groupname             # 创建新组\nsudo groupdel groupname             # 删除组\nsudo usermod -aG groupname user     # 将用户添加到组\nsudo gpasswd -d user groupname      # 从组中删除用户\n```\n\n### Sudo权限\n\n```bash\nsudo command                # 以管理员权限执行命令\nsudo -i                     # 切换到root用户\nsudo -u username command    # 以指定用户身份执行命令\nsudo visudo                 # 编辑sudo配置文件\n```\n\n## 服务管理\n\n### Systemd服务管理\n\n查看服务状态：\n```bash\nsudo systemctl status service_name      # 查看服务状态\nsystemctl list-units --type=service     # 列出所有服务\nsystemctl list-unit-files               # 列出所有服务文件\n```\n\n管理服务：\n```bash\nsudo systemctl start service_name       # 启动服务\nsudo systemctl stop service_name        # 停止服务\nsudo systemctl restart service_name     # 重启服务\nsudo systemctl reload service_name      # 重新加载配置\nsudo systemctl enable service_name      # 设置开机自启\nsudo systemctl disable service_name     # 禁用开机自启\n```\n\n查看日志：\n```bash\njournalctl -u service_name              # 查看服务日志\njournalctl -u service_name -f           # 实时查看服务日志\njournalctl -b                           # 查看本次启动日志\njournalctl --since \"1 hour ago\"         # 查看最近1小时日志\n```\n\n## 磁盘管理\n\n### 磁盘分区\n\n查看分区：\n```bash\nsudo fdisk -l               # 列出所有磁盘和分区\nlsblk                       # 以树形显示块设备\nsudo parted -l              # 使用parted查看分区\n```\n\n分区操作：\n```bash\nsudo fdisk /dev/sdX         # 使用fdisk分区（MBR）\nsudo parted /dev/sdX        # 使用parted分区（GPT）\nsudo mkfs.ext4 /dev/sdX1    # 格式化为ext4文件系统\nsudo mkfs.ntfs /dev/sdX1    # 格式化为NTFS文件系统\n```\n\n### 挂载和卸载\n\n```bash\nsudo mount /dev/sdX1 /mnt           # 挂载分区到/mnt\nsudo umount /mnt                    # 卸载分区\nsudo mount -t ntfs-3g /dev/sdX1 /mnt    # 挂载NTFS分区\n```\n\n开机自动挂载（编辑/etc/fstab）：\n```bash\nsudo nano /etc/fstab\n# 添加类似以下内容：\n# /dev/sdX1  /mnt/data  ext4  defaults  0  2\n```\n\n## 压缩和解压\n\n### tar归档\n\n```bash\ntar -cvf archive.tar files          # 创建tar归档\ntar -xvf archive.tar                # 解压tar归档\ntar -czvf archive.tar.gz files      # 创建gzip压缩的tar归档\ntar -xzvf archive.tar.gz            # 解压.tar.gz文件\ntar -cjvf archive.tar.bz2 files     # 创建bzip2压缩的tar归档\ntar -xjvf archive.tar.bz2           # 解压.tar.bz2文件\ntar -tf archive.tar                 # 查看归档内容\n```\n\n### zip压缩\n\n```bash\nzip archive.zip files               # 创建zip压缩文件\nzip -r archive.zip directory        # 递归压缩目录\nunzip archive.zip                   # 解压zip文件\nunzip -l archive.zip                # 查看zip内容\nunzip archive.zip -d /path          # 解压到指定目录\n```\n\n### 其他压缩格式\n\n```bash\ngzip filename               # 压缩为.gz格式\ngunzip filename.gz          # 解压.gz文件\nbzip2 filename              # 压缩为.bz2格式\nbunzip2 filename.bz2        # 解压.bz2文件\n7z a archive.7z files       # 创建7z压缩文件（需安装p7zip）\n7z x archive.7z             # 解压7z文件\n```\n\n## 定时任务\n\n### Cron定时任务\n\n编辑crontab：\n```bash\ncrontab -e                  # 编辑当前用户的crontab\ncrontab -l                  # 列出当前用户的crontab\ncrontab -r                  # 删除当前用户的crontab\nsudo crontab -e -u username # 编辑指定用户的crontab\n```\n\nCron表达式格式：\n```\n# 分 时 日 月 周 命令\n# * * * * * command\n# 例如：\n# 0 2 * * * /path/to/script.sh        # 每天凌晨2点执行\n# */5 * * * * /path/to/script.sh      # 每5分钟执行\n# 0 0 * * 0 /path/to/script.sh        # 每周日凌晨执行\n```\n\n### 查看cron日志\n\n```bash\ngrep CRON /var/log/syslog           # 查看cron日志\njournalctl -u cron                  # 使用journalctl查看\n```\n\n## 环境变量\n\n### 查看和设置环境变量\n\n```bash\necho $PATH                  # 显示PATH变量\nenv                         # 显示所有环境变量\nprintenv                    # 同上\nexport VAR=value            # 设置临时环境变量\nunset VAR                   # 删除环境变量\n```\n\n### 永久设置环境变量\n\n编辑用户级配置（仅对当前用户生效）：\n```bash\nnano ~/.bashrc              # 编辑bashrc\n# 添加：export VAR=value\nsource ~/.bashrc            # 使配置生效\n```\n\n编辑系统级配置（对所有用户生效）：\n```bash\nsudo nano /etc/environment  # 编辑环境变量文件\n# 添加：VAR=value\n```\n\n添加到PATH：\n```bash\nexport PATH=$PATH:/new/path         # 临时添加\n# 永久添加到~/.bashrc：\n# export PATH=$PATH:/new/path\n```\n\n## 常用快捷键\n\n终端快捷键：\n```\nCtrl + C        # 中断当前命令\nCtrl + Z        # 暂停当前命令\nCtrl + D        # 退出当前终端（相当于exit）\nCtrl + L        # 清屏（相当于clear命令）\nCtrl + A        # 光标移到行首\nCtrl + E        # 光标移到行尾\nCtrl + U        # 删除光标前的内容\nCtrl + K        # 删除光标后的内容\nCtrl + W        # 删除光标前的一个单词\nCtrl + R        # 搜索历史命令\nTab             # 自动补全\n↑/↓             # 浏览历史命令\n```\n\n## 系统维护\n\n### 清理系统\n\n```bash\nsudo apt autoremove                 # 删除不需要的依赖\nsudo apt clean                      # 清理软件包缓存\nsudo journalctl --vacuum-time=7d    # 清理7天前的日志\nrm -rf ~/.cache/*                   # 清理用户缓存\n```\n\n### 检查磁盘\n\n```bash\ndf -h                               # 查看磁盘使用\ndu -sh /*                           # 查看根目录下各目录大小\ndu -h --max-depth=1                 # 查看当前目录下各子目录大小\nncdu                                # 交互式磁盘使用分析（需安装）\n```\n\n### 系统备份\n\n```bash\n# 备份重要配置文件\nsudo tar -czvf backup.tar.gz /etc /home/username\n\n# 使用rsync备份\nrsync -avz /source /destination\nrsync -avz --delete /source /destination    # 镜像备份\n```\n\n## 故障排查\n\n### 查看系统日志\n\n```bash\ndmesg                               # 查看内核日志\njournalctl -xe                      # 查看系统日志\ntail -f /var/log/syslog             # 实时查看系统日志\ntail -f /var/log/auth.log           # 查看认证日志\n```\n\n### 修复引导\n\n从Live USB启动后：\n```bash\nsudo mount /dev/sdX1 /mnt           # 挂载根分区\nsudo mount --bind /dev /mnt/dev\nsudo mount --bind /proc /mnt/proc\nsudo mount --bind /sys /mnt/sys\nsudo chroot /mnt                    # 切换到系统环境\nupdate-grub                         # 更新GRUB\ngrub-install /dev/sdX               # 重装GRUB\n```\n\n### 修复损坏的软件包\n\n```bash\nsudo apt --fix-broken install       # 修复损坏的依赖\nsudo dpkg --configure -a            # 配置未完成的包\nsudo apt update --fix-missing       # 修复缺失的包\n```\n\n## 实用技巧\n\n### 命令别名\n\n```bash\n# 临时设置别名\nalias ll='ls -lah'\nalias update='sudo apt update && sudo apt upgrade'\n\n# 永久设置（添加到~/.bashrc）\necho \"alias ll='ls -lah'\" >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### 命令历史\n\n```bash\nhistory                     # 显示命令历史\nhistory | grep keyword      # 搜索历史命令\n!number                     # 执行历史中的第N条命令\n!!                          # 执行上一条命令\nsudo !!                     # 以sudo权限执行上一条命令\n```\n\n### 查找文件\n\n```bash\nfind /path -name filename           # 按名称查找\nfind /path -type f -name \"*.txt\"    # 查找txt文件\nfind /path -mtime -7                # 查找7天内修改的文件\nfind /path -size +100M              # 查找大于100M的文件\nlocate filename                     # 快速查找（需更新数据库）\nsudo updatedb                       # 更新locate数据库\n```\n\n### 批量操作\n\n```bash\n# 批量重命名\nrename 's/old/new/' *.txt\n\n# 批量删除\nfind . -name \"*.tmp\" -delete\n\n# 批量修改权限\nfind /path -type f -exec chmod 644 {} \\;\nfind /path -type d -exec chmod 755 {} \\;\n```\n\n---\n\n**提示**：在执行任何系统级操作前，建议先备份重要数据。使用sudo命令时要格外小心，确认命令正确后再执行。"
  }
]